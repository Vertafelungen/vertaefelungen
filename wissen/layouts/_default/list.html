{{/* 
  File: wissen/layouts/_default/list.html
  Version: 2025-12-26 18:32 CET
*/}}

{{ define "title" }}{{ .Title }} – {{ .Site.Title }}{{ end }}

{{ define "main" }}
<article>
  <h1>{{ .Title }}</h1>

  {{ with .Description }}
    <p style="max-width: 70ch; color:#444;">{{ . }}</p>
  {{ end }}

  {{ if .Content }}
    <div style="max-width: 80ch;">
      {{ .Content }}
    </div>
    <hr/>
  {{ end }}

  {{- $lblPages := "Einträge" -}}
  {{- if eq .Lang "en" -}}
    {{- $lblPages = "Entries" -}}
  {{- end -}}

  {{- $pages := slice -}}
  {{- range .Pages -}}
    {{- $bn := "" -}}
    {{- with .File }}{{- $bn = .BaseFileName -}}{{- end -}}
    {{- if ne (lower $bn) "readme" -}}
      {{- $pages = $pages | append . -}}
    {{- end -}}
  {{- end -}}

  {{ if gt (len $pages) 0 }}
    <h2>{{ $lblPages }}</h2>
    <ul>
      {{ range $pages.ByTitle }}
        <li><a href="{{ .RelPermalink }}">{{ .Title }}</a></li>
      {{ end }}
    </ul>
  {{ end }}
</article>
{{ end }}
