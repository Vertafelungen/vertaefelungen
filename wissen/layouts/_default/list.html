{{/* 
  File: wissen/layouts/_default/list.html
  Version: 2025-12-26 18:32 CET
*/}}

{{ define "title" }}{{ .Title }} – {{ .Site.Title }}{{ end }}

{{ define "main" }}
<article class="page">
  <header class="page-hero">
    <h1 class="page-hero__title">{{ .Title }}</h1>
    {{ with .Description }}
      <p class="page-hero__lead">{{ . }}</p>
    {{ end }}
  </header>

  {{ partial "content-or-placeholder.html" (dict "page" . "class" "prose") }}

  {{- $lblPages := "Einträge" -}}
  {{- if eq .Lang "en" -}}
    {{- $lblPages = "Entries" -}}
  {{- end -}}

  {{- $pages := slice -}}
  {{- range .Pages -}}
    {{- $bn := "" -}}
    {{- with .File }}{{- $bn = .BaseFileName -}}{{- end -}}
    {{- if ne (lower $bn) "readme" -}}
      {{- $pages = $pages | append . -}}
    {{- end -}}
  {{- end -}}

  {{ if gt (len $pages) 0 }}
    <h2 class="section-title">{{ $lblPages }}</h2>
    <div class="card-grid">
      {{ range $pages.ByTitle }}
        <article class="card">
          <h3><a href="{{ .RelPermalink }}">{{ .Title }}</a></h3>
          {{ with .Description }}
            <p>{{ . }}</p>
          {{ else }}
            {{ with .Summary }}
              <p>{{ . | plainify }}</p>
            {{ end }}
          {{ end }}
          <a class="button button--ghost" href="{{ .RelPermalink }}">{{ i18n "read_more_label" }}</a>
        </article>
      {{ end }}
    </div>
  {{ end }}
</article>
{{ end }}
