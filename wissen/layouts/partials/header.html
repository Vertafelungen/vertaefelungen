<!--
File: wissen/layouts/partials/header.html
Version: 2026-01-18  (Europe/Berlin)
Purpose: Site header (brand, main navigation, language switch, shop CTA)
Notes:
- Keep this partial free of binary assets in PR 3.2.2 (Option A).
- Visual styling must be handled via CSS (no inline styles).
-->

<header class="site-header">
  <div class="container site-header__inner">
    <a class="brand" href="{{ .Site.Home.RelPermalink }}">
      <span class="brand__logo" aria-hidden="true">V</span>
      <span class="brand__text">
        <span class="brand__title">Vertäfelungen.de</span>
        <span class="brand__subtitle">
          {{ if eq .Site.Language.Lang "de" }}Wissen &amp; Inspiration{{ else }}Knowledge &amp; inspiration{{ end }}
        </span>
      </span>
    </a>

    <div class="site-header__nav" role="navigation" aria-label="{{ i18n "header_nav_label" }}">
      <input
        class="nav-toggle"
        type="checkbox"
        id="nav-toggle"
        aria-label="{{ i18n "header_toggle_label" }}"
        aria-controls="main-nav"
      >
      <label class="nav-toggle__button" for="nav-toggle" aria-label="{{ i18n "header_toggle_label" }}">
        <span class="nav-toggle__icon"></span>
      </label>

      <div class="nav-panel" id="main-nav">
        <nav class="main-nav" aria-label="{{ i18n "header_nav_label" }}">
          {{- range .Site.Menus.main -}}
            {{- $label := .Name -}}
            {{- with .Identifier -}}
              {{- $label = i18n . -}}
            {{- end -}}
            {{- $isActive := or ($.IsMenuCurrent "main" .) ($.HasMenuCurrent "main" .) -}}
            <a class="main-nav__link{{ if $isActive }} main-nav__link--active{{ end }}" href="{{ .URL }}">{{ $label }}</a>
          {{- end -}}
        </nav>

        <div class="header-actions">
          <div class="lang-switch" aria-label="{{ i18n "language_switch_label" }}">
            {{- range $index, $site := .Sites -}}
              {{- $isActive := eq $site.Language.Lang $.Site.Language.Lang -}}
              <a class="{{ if $isActive }}is-active{{ end }}" href="{{ $site.Home.RelPermalink }}">{{ upper $site.Language.Lang }}</a>{{ if lt (add $index 1) (len $.Sites) }}<span aria-hidden="true">·</span>{{ end }}
            {{- end -}}
          </div>

          {{- $shopUrl := cond (eq .Site.Language.Lang "de") "https://www.vertaefelungen.de/de/" "https://www.vertaefelungen.de/en/" -}}
          <a class="button button--primary" href="{{ $shopUrl }}">{{ i18n "header_shop_label" }}</a>
        </div>
      </div>
    </div>
  </div>
</header>
