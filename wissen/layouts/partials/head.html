<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>{{ if .Title }}{{ .Title }} | {{ end }}{{ .Site.Title }}</title>

{{/* Canonical + Hreflang */}}
{{- $canonical := partial "seo/canonical-url.html" . -}}
{{- $robots := "index,follow" -}}
{{- with .Params.robots }}
  {{- $robots = . -}}
{{- else }}
  {{- with .Params.seo.robots }}
    {{- if . }}
      {{- $robots = . -}}
    {{- end -}}
  {{- end -}}
{{- end -}}
{{- $knowledgeURL := $canonical -}}
{{- with .Params.knowledge_url }}
  {{- $knowledgeURL = . | absURL -}}
{{- end -}}

{{ if templates.Exists "partials/seo/hreflang-canonical.html" }}
  {{ partial "seo/hreflang-canonical.html" (dict "page" . "canonical" $canonical) }}
{{ end }}
<meta name="robots" content="{{ $robots }}">
<meta name="knowledge_url" content="{{ $knowledgeURL }}">

{{/* Meta Description (SEO) */}}
{{ with .Params.seo.description }}
  <meta name="description" content="{{ . | plainify }}">
{{ else }}
  {{ with .Summary }}
    <meta name="description" content="{{ . | plainify }}">
  {{ end }}
{{ end }}

{{ if templates.Exists "partials/seo/site-jsonld.html" }}
  {{ partial "seo/site-jsonld.html" . }}
{{ end }}
{{ if .Params.produkt }}
  {{ if templates.Exists "partials/seo/product-jsonld.html" }}
    {{ partial "seo/product-jsonld.html" . }}
  {{ end }}
{{ end }}

{{/* CSS: reines CSS nicht durch ToCSS (Sass) schicken â€“ sonst kollidiert CSS min()/calc() mit Sass min(). */}}
{{ $style := resources.Get "css/site.css" | resources.Minify | resources.Fingerprint "sha512" }}

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

<link rel="stylesheet" href="{{ $style.RelPermalink }}" integrity="{{ $style.Data.Integrity }}" crossorigin="anonymous">
