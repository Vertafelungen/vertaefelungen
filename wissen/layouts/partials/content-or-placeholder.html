{{- $page := .page -}}
{{- $class := .class | default "prose" -}}
{{- $ws := " \t\n\r" -}}

{{- /* Raw content without placeholder markers */ -}}
{{- $raw := $page.RawContent | default "" -}}
{{- $raw = replaceRE `(?s)<!--\s*placeholder\s*-->` `` $raw -}}
{{- $raw = replaceRE `(?s)\{\{<\s*placeholder\s*>\}\}` `` $raw -}}
{{- $raw = trim $raw $ws -}}

{{- /* Rendered HTML content */ -}}
{{- $content := $page.Content | default "" -}}
{{- $content = trim $content $ws -}}

{{- if or (eq $content "") (eq $raw "") -}}

  {{- $lang := $page.Language.Lang -}}

  {{- $consultingLink := cond (eq $lang "de") "/de/faq/beratung/" "/en/faq/consulting/" -}}
  {{- with site.GetPage (printf "/%s/faq/%s" $lang (cond (eq $lang "de") "beratung" "consulting")) -}}
    {{- $consultingLink = .RelPermalink -}}
  {{- end -}}

  {{- $contactLink := cond (eq $lang "de") "/de/kontakt/" "/en/contact/" -}}
  {{- with site.GetPage (printf "/%s/%s" $lang (cond (eq $lang "de") "kontakt" "contact")) -}}
    {{- $contactLink = .RelPermalink -}}
  {{- end -}}

  {{- $shopUrl := cond (eq $lang "de") "https://www.vertaefelungen.de/de/" "https://www.vertaefelungen.de/en/" -}}

  <div class="placeholder">
    <p class="placeholder__title">{{ i18n "placeholder_title" }}</p>
    <p class="placeholder__text">{{ i18n "placeholder_text" }}</p>

    <div class="placeholder__actions">
      <a class="button button--primary" href="{{ $consultingLink }}">{{ i18n "placeholder_cta_consulting" }}</a>
      <a class="button button--ghost" href="{{ $contactLink }}">{{ i18n "placeholder_cta_contact" }}</a>
      <a class="button" href="{{ $shopUrl }}">{{ i18n "placeholder_cta_shop" }}</a>
    </div>
  </div>

{{- else -}}

  <div class="{{ $class }}">
    {{- $page.Content | safeHTML -}}
  </div>

{{- end -}}
